<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
<title>CODEIT.com/Register</title>
<style>
    .container {
        height: auto;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }

    .form-container {
        width: 100%;
        max-width: 500px;
        padding: 30px;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(11, 112, 11, 0.3);
        background: #ffffff;
    }

    .form-title {
        text-align: center;
        margin-bottom: 20px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .text-danger {
        font-size: 0.85em;
        margin-bottom: 5px;
    }

    input, select, textarea {
        min-height: 45px;
    }

    @media (max-width: 576px) {
        .form-container {
            padding: 20px;
        }

        input, select, textarea {
            min-height: 40px;
        }
    }
</style>
</head>
<body>

<div class="container">
    <div class="form-container">
    
        <h2 th:if="${msg != null}" class="text-success text-center" th:text="${msg}"></h2>
    
        <h2 class="form-title">Register</h2>
        <form th:action="@{/registerstudent}" th:object="${student}" method="post">
            <div class="form-group">
                <div th:if="${#fields.hasErrors('name')}" class="text-danger">
                    <p th:errors="*{name}"></p>
                </div>
                <label for="name" class="form-label">Full Name</label>
                <input type="text" th:field="*{name}" class="form-control" id="name" placeholder="Enter your full name">
            </div>
            <div class="form-group">
                <div th:if="${#fields.hasErrors('phone')}" class="text-danger">
                    <p th:errors="*{phone}"></p>
                </div>
                <label for="phone" class="form-label">Phone Number</label>
                <input type="number" th:field="*{phone}" class="form-control" id="phone" placeholder="+91">
            </div>
            <div class="form-group">
                <div th:if="${#fields.hasErrors('email')}" class="text-danger">
                    <p th:errors="*{email}"></p>
                </div>
                <label for="email" class="form-label">Email Address</label>
                <input type="email" th:field="*{email}" class="form-control" id="email" placeholder="@gmail.com">
            </div>
            <div class="form-group">
                <div th:if="${#fields.hasErrors('password')}" class="text-danger">
                    <p th:errors="*{password}"></p>
                </div>
                <label for="password" class="form-label">Create Password</label>
                <input type="password" th:field="*{password}" class="form-control" id="password" placeholder="Enter password">
            </div>
            <div class="form-group">
                <div th:if="${#fields.hasErrors('address')}" class="text-danger">
                    <p th:errors="*{address}"></p>
                </div>
                <label for="address" class="form-label">Address</label>
                <textarea class="form-control" th:field="*{address}" id="address" rows="3" placeholder="Enter your address"></textarea>
            </div>
            <div class="form-group">
              
                <label for="gender" class="form-label">Gender</label>
                <select class="form-control" th:field="*{gender}" id="gender">
                    <option value="" disabled selected>Select your gender</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                    <option value="other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <div th:if="${#fields.hasErrors('course')}" class="text-danger">
                    <p th:errors="*{course}"></p>
                </div>
                <label for="courses" class="form-label">Courses</label>
                <select class="form-control" th:field="*{course}" id="courses">
                    <option value="" disabled selected>Select your Course</option>
                    <option value="Full Stack Java Development">Full Stack Java Development</option>
                    <option value="Data Science">Data Science</option>
                    <option value="Android Development">Android Development</option>
                    <option value="Python Development">Python Development</option>
                    <option value="Software Testing">Software Testing</option>
                </select>
            </div>
            <input type="submit" class="btn btn-success w-100 mb-3" value="Register">
            <a th:href="@{/login1}" class="btn btn-secondary w-100"><strong>Already have an account? Login</strong></a>
        </form>
    </div>
</div>
<script>
    // Check if a success message exists and set the redirect
    var successMessage = document.querySelector('h2.text-success');
    if (successMessage) {
        setTimeout(function() {
            // Redirect to login page after 2 seconds
            window.location.href = '/login1';
        }, 2000);
    }
</script>
</body>
</html>
